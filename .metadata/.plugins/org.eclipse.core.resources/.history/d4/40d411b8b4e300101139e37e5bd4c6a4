plugins {
    id 'java-platform' // BOM을 만들기 위한 전용 플러그인
}

group = 'com.nexus'
version = '2.5.0-SNAPSHOT' // NEXUS 버전도 2.5로 점프!

repositories {
    mavenCentral()
}

javaPlatform {
    allowDependencies()
}

dependencies {
    // ===============================================
    // 1. Spring Boot BOM (통제실의 핵심)
    // ===============================================
    // libs.versions.toml에 정의된 'spring-boot-dependencies'를 가져옵니다.
    // 이 한 줄로 Spring Boot 3.5.9의 모든 버전을 통제합니다.
    api platform(libs.spring.boot.dependencies)

    // ===============================================
    // 2. Observability (관측성 BOM)
    // ===============================================
    // OpenTelemetry 버전 통제
    api platform(libs.otel.bom)

    // ===============================================
    // 3. 외부 라이브러리 (Spring Boot가 관리 안 하는 것들)
    // ===============================================
    constraints {
        // [DB Drivers]
        api libs.mssql.jdbc
        api libs.mysql.connector
        
        // [Flyway] (Core + Plugins)
        api libs.flyway.core
        api libs.flyway.sqlserver
        api libs.flyway.mysql
        
        // [Security] (JWT)
        api libs.jjwt.api
        api libs.jjwt.impl
        api libs.jjwt.jackson
        
        // [Logging] (Logstash Encoder)
        api libs.logback.encoder
    }
}